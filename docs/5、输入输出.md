<!--
 * @Author: WangQiBiao
 * @Date: 2019-11-06 09:01:05
 * @LastEditors: WangQiBiao
 * @LastEditTime: 2019-11-06 10:01:46
 * @Description:
 -->
# 输入输出

## 1、entry 入口

### 1-1、字符串类型

比如：
```js
entry: './src/index.js'
```

### 1-2、数组类型

注意字符串和数组类型的entry是没有办法更改chunk name入口的。chunk name可以理解为要输出时的文件名。

比如：
```js
entry: ['./src/index.js', './src/base.js']
```

### 1-3、对象类型

比如：
```js
entry: {
  index: './src/index.js',
  base: './src/base.js'
}
```

### 1-4、函数类型

其实入口严格来讲就上面的三种类型字符串、数组和对象；函数类型其实就是引入的函数需要返回的值为上述的三种类型之一即可；函数类型的优势是当需要做动态入口时特别方便。

比如：
```js
entry: () => './src/index.js'
```

## 单页应用

一般就是单入口文件

优点也是他的缺点，即只打包成一个文件，会导致文件体积过大臃肿；在这是首屏加载时间过长页面出现空白问题；
好处就是一次加载后会缓存，避免了来回切换页面后重复加载资源问题。

## 提取公共资源 vendor

解决体积过大，线上资源频繁更新问题；一般会提取公共第三方v库，因为这些库一般不会更新。

这时候要用到两个东东CommonsChunkPlugin，这个是webpack3之前的版本会使用；
到了webpack4后CommonsChunkPlugin已经被废弃；改成optimization.splitChunks,
后期会具体讲解这两个plugin。

## 多页应用

多个入口的项目

* 优势

每个页面都有自己单独的逻辑，体积小加载快

* 缺点

重复逻辑如何取舍，如何更好缓存资源等

## output

```js
output: {
  filename: '[name].js',
  path: path.join(__dirname, 'dist'),
  publicPath: '/dist'
}
```

* filename

输出的文件名；如果是单页应用，一般我们会给filename取一个具体的名字；如果是多页应用，因为我们不知道文件入口的具体名字是什么，这时候就不能直接取一个名字了；

所以这时候就要用到filename的配置项模版变量，模版变量有[name]、[hash]、[chunkhash]、[id]类型。

控制客户端缓存的要要用到[hash]、[chunkhash]
